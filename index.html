<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title> Rock Paper Scissors</title>
</head>

<body>
    <script>
        function getComputerChoice() {
            let num = Math.floor(Math.random() * 3); // returns num 0, 1 or 2
            switch (num) {
                case (0):
                    return "Rock";
                    break;
                case (1):
                    return "Paper";
                    break;
                case (2):
                    return "Scissors";
                    break;
                default:
                    return;
            }
        }


        // prerequisite: playerSelection is one of "rock", "paper" or "scissors" - case insensitive.
        function playRound(playerSelection, computerSelection) {
            playerSelection = playerSelection.substring(0, 1).toUpperCase() + playerSelection.substring(1).toLowerCase();
            computerSelection = computerSelection.substring(0, 1).toUpperCase() + computerSelection.substring(1).toLowerCase();
            if (playerSelection === computerSelection) {
                return "Tie!";
            }

            if ((playerSelection === "Rock" && computerSelection === "Paper")
                || (playerSelection === "Paper" && computerSelection === "Scissors")
                || (playerSelection === "Scissors" && computerSelection == "Rock")) {
                return "You Lose! " + computerSelection + " beats " + playerSelection;

            } else {
                return "You Win! " + playerSelection + " beats " + computerSelection;
            }


        }

        function game() {
            // plays a best of five rock paper scissors game agaisnt the computer. Ties are not counted in the five.
            let computerScore = 0;
            let userScore = 0;
            let i = 0;
            while (i < 5) {
                let userChoice = prompt("Rock, Paper, Scissors??");
                let outcome = playRound(userChoice, getComputerChoice());
                if (outcome.includes("Win")) {
                    userScore++;
                    i++;
                }
                if (outcome.includes("Lose")) {
                    computerScore++;
                    i++;
                }

                console.log(outcome);
                console.log("Computer: " + computerScore)
                console.log("User: " + userScore)
            }
        }

        game()


    </script>
</body>

</html>